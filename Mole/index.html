<!DOCTYPE html>
<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" href="style.css">
	<meta charset="utf-8">
</head>
<body>
	<div class="score"> Счет: 0</div>
	<div class="main">
		<div class="hole"></div>
		<div class="hole"></div>
		<div class="hole"></div>
		<div class="hole"></div>
		<div class="hole"></div>
		<div class="hole"></div>	
	</div>
	<script type="text/javascript">
		let scoreShow = document.querySelector('.score')
		let score = 0
		let main = document.querySelector('.main')
		let holes = document.querySelectorAll('.hole')
		let img = document.createElement('img')
		let lastRand = 0;	
		document.body.appendChild(img)
		img.classList.add('rat')

		setInterval(show, 1000);

		function show(){
			var rand = Math.floor(Math.random() * holes.length);
			if(rand != lastRand){
				img.src = 'mole.svg';
				img.style.top = holes[rand].getBoundingClientRect().y-130 + 'px';
				img.style.left = holes[rand].getBoundingClientRect().x + 'px';
			}
			lastRand = rand;
			console.log(rand);
		}
		img.onclick = function(){
			if(score > 3){
				main.style.display = 'none';
				img.style.display = 'none';
				let div = document.createElement('div');
				document.body.appendChild(div);
				div.classList.add('win');
				div.innerHTML = 'You win!';
			}else{
				score++
				scoreShow.textContent = 'Счет: ' + score;
				img.style.display = 'none';
				show();
				img.style.display = 'inline';
			}
		}
	</script>
</body>
</html>